import{I as j,N as a,O as x}from"./chunk-RAUIAXY2.js";import{Ea as o,Fc as L,Ib as C,Lb as H,Lc as I,Na as v,Ob as b,Sc as D,Uc as R,da as d,ia as s,k as p,kb as _,mb as w,ob as S,pb as E,wa as f,xa as c,yc as y,zc as g}from"./chunk-7ECJTI42.js";var k=(()=>{let e=class e{constructor(){this.element=d(c)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=s({type:e,selectors:[["","showSourceContent",""]],standalone:!0});let r=e;return r})();var m=class m{get innerHtml(){return this.contentElement?.element?.nativeElement?.innerHTML??this._element.nativeElement.innerHTML}constructor(e,i,t,n,l){this._element=e,this._dialogSvc=i,this._viewContainer=t,this._document=n,this._position=l,this.inline=f(!0,{transform:C})}ngAfterViewInit(){if(!this.inline())return;this._sourceHtml=this.innerHtml,this._componentRef=this._viewContainer.createComponent(a),this._componentRef.setInput(y("sourceHtml"),this._sourceHtml);let e=L(this._componentRef);e&&(e.style.border="1px solid #1e1e1e")}ngOnDestroy(){this._removeCreatedSources()}showSourceLink(){if(this.inline())return;this._sourceHtml=this.innerHtml;let e=this._popupElement=this._document.createElement("div"),i=this._document.createElement("button"),t=this._document.createElement("span");t.classList.add("fas","fa-code"),i.classList.add("btn-icon"),e.classList.add("absolute","padding-extra-small","border-round"),e.style.backgroundColor="#f0f0f0",i.addEventListener("click",this._showSourceViewer),i.appendChild(t),e.appendChild(i),this._element.nativeElement.appendChild(e),this._positionSubscription=this._position.placeElement(e,this._element.nativeElement,{autoUpdate:!0,placement:D.TopEnd}).subscribe(n=>R(n))}hideSourceLink(){this.inline()||(this._removeCreatedSources(),this._sourceHtml=null)}_removeCreatedSources(){this._componentRef?.destroy(),this._popupElement?.remove(),this._popupElement=null,this._positionSubscription?.unsubscribe(),this._positionSubscription=null}_showSourceViewer(){this._dialogSvc.open(a,{width:"75vw",maxHeight:"75vh",data:this._sourceHtml})}};m.\u0275fac=function(i){return new(i||m)(o(c),o(j),o(v),o(b),o(I))},m.\u0275dir=s({type:m,selectors:[["","showSource",""]],contentQueries:function(i,t,n){if(i&1&&w(n,k,5),i&2){let l;S(l=E())&&(t.contentElement=l.first)}},hostBindings:function(i,t){i&1&&_("mouseenter",function(){return t.showSourceLink()})("mouseleave",function(){return t.hideSourceLink()})},inputs:{inline:[1,"inline"]},standalone:!0});var u=m;p([g],u.prototype,"_showSourceViewer",null);var W=(()=>{let e=class e{constructor(t,n){H(()=>{let h=`${n.theme()}-theme`;this._previousClass&&t.nativeElement.classList.remove(this._previousClass),t.nativeElement.classList.add(h),this._previousClass=h})}};e.\u0275fac=function(n){return new(n||e)(o(c),o(x))},e.\u0275dir=s({type:e,selectors:[["","withTheme",""]],standalone:!0});let r=e;return r})();export{k as a,u as b,W as c};
