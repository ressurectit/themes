import{I,N as a,O as j}from"./chunk-HDVLXDAJ.js";import{Ea as o,Ec as H,Hb as w,Kb as E,Kc as g,Na as v,Nb as S,Rc as L,Tc as y,da as d,ia as r,k as h,kb as _,wa as f,xa as c,xc as b,yc as C}from"./chunk-RKOYFXAR.js";var m=class m{constructor(e,n,t,i,u){this._element=e,this._dialogSvc=n,this._viewContainer=t,this._document=i,this._position=u,this.inline=f(!0,{transform:w})}ngAfterViewInit(){if(!this.inline())return;this._sourceHtml=this._element.nativeElement.innerHTML,this._componentRef=this._viewContainer.createComponent(a),this._componentRef.setInput(b("sourceHtml"),this._sourceHtml);let e=H(this._componentRef);e&&(e.style.border="1px solid #1e1e1e")}ngOnDestroy(){this._removeCreatedSources()}showSourceLink(){if(this.inline())return;this._sourceHtml=this._element.nativeElement.innerHTML;let e=this._popupElement=this._document.createElement("div"),n=this._document.createElement("button"),t=this._document.createElement("span");t.classList.add("fas","fa-code"),n.classList.add("btn-icon"),e.classList.add("absolute","padding-extra-small","border-round"),e.style.backgroundColor="#f0f0f0",n.addEventListener("click",this._showSourceViewer),n.appendChild(t),e.appendChild(n),this._element.nativeElement.appendChild(e),this._positionSubscription=this._position.placeElement(e,this._element.nativeElement,{autoUpdate:!0,placement:L.TopEnd}).subscribe(i=>y(i))}hideSourceLink(){this.inline()||(this._removeCreatedSources(),this._sourceHtml=null)}_removeCreatedSources(){this._componentRef?.destroy(),this._popupElement?.remove(),this._popupElement=null,this._positionSubscription?.unsubscribe(),this._positionSubscription=null}_showSourceViewer(){this._dialogSvc.open(a,{width:"75vw",maxHeight:"75vh",data:this._sourceHtml})}};m.\u0275fac=function(n){return new(n||m)(o(c),o(I),o(v),o(S),o(g))},m.\u0275dir=r({type:m,selectors:[["","showSource",""]],hostBindings:function(n,t){n&1&&_("mouseenter",function(){return t.showSourceLink()})("mouseleave",function(){return t.hideSourceLink()})},inputs:{inline:[1,"inline"]},standalone:!0});var l=m;h([C],l.prototype,"_showSourceViewer",null);var $=(()=>{let e=class e{constructor(){this.element=d(c)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=r({type:e,selectors:[["","showSourceContent",""]],standalone:!0});let s=e;return s})();var K=(()=>{let e=class e{constructor(t,i){E(()=>{let p=`${i.theme()}-theme`;this._previousClass&&t.nativeElement.classList.remove(this._previousClass),t.nativeElement.classList.add(p),this._previousClass=p})}};e.\u0275fac=function(i){return new(i||e)(o(c),o(j))},e.\u0275dir=r({type:e,selectors:[["","withTheme",""]],standalone:!0});let s=e;return s})();export{l as a,$ as b,K as c};
